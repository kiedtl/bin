#!/bin/sh

# --- colors ---
image=$(printf "\033[1m")
label=$(printf "\033[1m")
reset=$(printf "\033[0m")

# --- ascii art ---

ascii="    ___
   (.· |
   (<> |
  / __  \
 ( /  \ /|
_/\ __)/_)
\/_____\/"

# --- information ---
. /etc/os-release;k=`uname -r`;s=`cat /proc/uptime`;s=${s%%.*};d=$((s/86400));h=$((s/3600%24));m=$((s/60%60));[ $d = 0 ]||u="${u}${d}d ";[ $h = 0 ]||u="${u}${h}h ";[ $m = 0 ]||u="${u}${m}m";while IFS=: read -r a b;do b=${b%kB};case $a in MemTotal)x=$((x+=b));t=$((t=b));;Shmem)x=$((x+=b));;MemFree|Buffers|Cached|SReclaimable)x=$((x-=b));;esac;done</proc/meminfo;x=$((x/=1024));t=$((t/=1024))
title="${USER}@$(hostname)"

# --- display ---
echo "
${image}    ___    ${label} $title ${reset}
${image}   (.· |   ${label} $(echo "$title" | sed 's/./─/g')
${image}   (<> |   ${label} os      ${reset}${PRETTY_NAME:-?}
${image}  / __  \  ${label} uptime  ${reset}$u
${image} ( /  \ /| ${label} editor  ${reset}${EDITOR:-?}
${image}_/\ __)/_) ${label} shell   ${reset}${SHELL##*/}
${image}\/_____\/  ${label} memory  ${reset}${x}MiB / ${t}MiB
${image}           ${label} kernel  ${reset}$k
${image}           ${label} pkgs    ${reset}`xbps-query -l | wc -l`
"
